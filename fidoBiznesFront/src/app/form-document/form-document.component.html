<div class="wrapper">
  <mat-card class="title">
    {{'FORM.header'| translate}}
  </mat-card>
  <form [formGroup]="myForm"
        (ngSubmit)="add()"
        ngNativeValidate="">
    <mat-card class="card">
      <div class="grid-container">
        <div class="inputDiv">
          <p class="label">{{'FORM.correspondent'| translate}}<span class="starIcon">*</span></p>
          <select name="sender" formControlName="sender" class="input"  required>
            <option *ngFor="let doc_sender of doc_senders" [value]="doc_sender.id">
              {{doc_sender.name}}
            </option>
          </select>
          <small *ngIf="myForm.get('sender')?.invalid&&myForm.get('sender')?.touched" class="text-danger">Please select
            type</small>
        </div>
        <div class="inputDiv">
          <p class="label">{{'FORM.regnum'| translate}}<span class="starIcon">*</span></p>
          <input name="regNum" formControlName="regNumber" type="text" class="input" required maxlength="10" >
          <small *ngIf="myForm.get('regNumber')?.invalid&&myForm.get('regNumber')?.touched" class="text-danger">Please
            enter
            number </small>
          <small *ngIf="isRegNumberExist" class="text-danger">{{'FORM.isRegNumExist'| translate}} </small>
        </div>
        <div class="inputDiv">
          <p class="label">{{'FORM.regDate'| translate}}<span class="starIcon">*</span></p>
          <input name="regDate" type="text" class="input" formControlName="regDate">
        </div>
        <div class="inputDiv">
          <p class="label">{{'FORM.delivery_type'| translate}}<span class="starIcon">*</span></p>
          <select name="delivery" class="input" formControlName="delivery"  required>
            <option *ngFor="let delivery_type of delivery_types" [value]="delivery_type.id">
              {{delivery_type.name}}
            </option>
          </select>
          <small *ngIf="myForm.get('delivery')?.invalid&&myForm.get('delivery')?.touched" class="text-danger">Please
            select
            type</small>
        </div>
        <div class="inputDiv">
          <p class="label">{{'FORM.sendDoc'| translate}}<span class="starIcon">*</span></p>
          <input name="sendnum" formControlName="sendNumber" type="text" class="input" required maxlength="10" >
          <small *ngIf="myForm.get('sendNumber')?.invalid&&myForm.get('sendNumber')?.touched" class="text-danger">Please
            enter number </small>
        </div>
        <div class="sendDatePicker">
          <p class="label">{{'FORM.sendDate'| translate}}<span class="starIcon">*</span></p>
          <div class="datePickerSend">
            <input matInput [matDatepicker]="send" name="sendDate" formControlName="sendDate" class="datePickerinput"
                    required>
            <mat-datepicker-toggle [for]="send" class="dateIcon"></mat-datepicker-toggle>
            <mat-datepicker #send></mat-datepicker>
          </div>
          <small *ngIf="myForm.get('sendDate')?.invalid&&myForm.get('sendDate')?.touched" class="text-danger">Please
            enter date </small>
          <small *ngIf="sendDateError" class="text-danger">{{'FORM.sendDateError'| translate}}</small>
        </div>

      </div>

    </mat-card>
    <mat-card class="card">
      <div class="checkboxDivCard ">
        <div style="width: 100%">
          <p class="label">{{'FORM.theme'| translate}}<span class="starIcon">*</span></p>
          <input name="them" formControlName="theme" type="text" class="input" maxlength="100" required >
          <small *ngIf="myForm.get('theme')?.invalid&&myForm.get('theme')?.touched" class="text-danger">Please enter
            word </small>
        </div>
        <div >
          <p class="label">{{'FORM.access'| translate}}</p>
          <div class="chekbox">
            <input name="acces" type="checkbox"  formControlName="access" id="switch" class="input" />
            <label class="switch" for="switch">
              <span></span>
            </label>
          </div>
        </div>
        <div style="width: 100%">
          <p class="label">{{'FORM.due'| translate}}</p>
          <div class="datePickerExpire">
            <input matInput [matDatepicker]="expire" formControlName="expireDate" class="datePickerinput" >
            <mat-datepicker-toggle matSuffix [for]="expire" class="dateIcon"></mat-datepicker-toggle>
            <mat-datepicker #expire></mat-datepicker>
          </div>
        </div>
        <div style="width: 40%">
          <p class="label">{{'FORM.control'| translate}}</p>
          <div class="chekbox">
            <input name="control" type="checkbox" formControlName="control" id="switch2" class="input" />
            <label class="switch" for="switch2">
              <span></span>
            </label>
          </div>
        </div>
      </div>
      <div style="margin-top: 1%">
        <label class="label"  for="textarea">{{'FORM.description'| translate}}</label>
        <textarea name="desc" formControlName="descrip"  class="textArea" id="textarea" maxlength="1000"
                  ></textarea>
      </div>
    </mat-card>

    <mat-card class="card">
      <div class="forFileDiv">
        <input type="file" id="file" (change)="fileToServer($event)">
        <label class="forFileLabel" for="file">
          <mat-icon>save_alt</mat-icon>
          <span style="margin-top: 7px">Faylni tanlang</span></label>
      </div>
      <p style="text-align: center;font-size: 14px" *ngIf="showFileName">{{filename}}</p>
    </mat-card>
    <mat-card class="card">
      <div style="display: flex;align-items: center;justify-content: center">
        <button class="btn">
          {{'FORM.save'| translate}}</button>
        <button type="button" class="btnBack" (click)="goToTable()">{{'FORM.back'| translate}}</button>
      </div>
    </mat-card>
  </form>
</div>


